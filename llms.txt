# fidelizadorapi ![](reference/figures/fidelizador_logo_pkg.png)

[![R-CMD-check](https://github.com/Jona-S99/fidelizadorapi/actions/workflows/R-CMD-check.yaml/badge.svg)](https://github.com/Jona-S99/fidelizadorapi/actions/workflows/R-CMD-check.yaml)
[![pkgdown](https://github.com/Jona-S99/fidelizadorapi/actions/workflows/pkgdown.yaml/badge.svg)](https://github.com/Jona-S99/fidelizadorapi/actions/workflows/pkgdown.yaml)

> Cliente R para la API oficial de Fidelizador

## Descripción

`fidelizadorapi` es una librería de R que reúne funciones para trabajar
con la API oficial de Fidelizador, facilitando tareas de autenticación,
consulta de recursos y gestión de campañas desde R.

## Instalación

Puedes instalar la versión en desarrollo desde GitHub:

``` r
# Instalar pak si no lo tienes
install.packages("pak")

# Instalar fidelizador-api desde GitHub
pak::pkg_install("Jona-S99/fidelizador-api")
```

## Requisitos

- R \>= 4.0.0
- httr2

## Configuración

### Obtener credenciales

1.  Accede al portal de Fidelizador
2.  Ve a la sección de API/Credenciales
3.  Obtén tu `client_id` y `client_secret`
4.  Asegúrate de tener habilitado el flujo **Client Credentials**

### Configurar credenciales

``` r
library(fidelizadorapi)

# Opción 1: Guardar en variables de entorno (recomendado)
flz_set_credentials(
  client_id = "tu_client_id",
  client_secret = "tu_client_secret"
)

# Opción 2: Usar directamente en cada autenticación
token <- flz_auth(
  client_id = "tu_client_id",
  client_secret = "tu_client_secret"
)
```

## Uso básico

### Autenticación

``` r
library(fidelizadorapi)

# Autenticarse (usando credenciales guardadas)
token <- flz_auth()
```

## Encontrar tu Client Slug

Tu `client_slug` se encuentra en la URL del portal de Fidelizador:

    https://cl1.fidelizador.com/{client-slug}/dashboard/
                                ^^^^^^^^^^^^

## Contribuciones

Las contribuciones son bienvenidas. Por favor, abre un issue o pull
request en GitHub.

## Soporte

Para reportar problemas o solicitar nuevas funcionalidades, abre un
issue en el repositorio de GitHub.

#### Nota

El animal del logo es un Huillín.

# Package index

## Autenticación

Funciones para autenticarse en la API

- [`flz_auth()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_auth.md)
  : Autenticarse con la API de Fidelizador usando Client Credentials
- [`flz_get_credentials()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_get_credentials.md)
  : Obtener credenciales desde variables de entorno
- [`flz_set_credentials()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_set_credentials.md)
  : Guardar credenciales en variables de entorno

## Listas

Gestión de listas de contactos

- [`flz_get_lists()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_get_lists.md)
  : Obtener todas las listas del sistema
- [`flz_create_list()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_create_list.md)
  : Crear una nueva lista de contactos
- [`flz_delete_list()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_delete_list.md)
  : Borrar una lista de contactos

## Categorías

Gestión de categorías

- [`flz_get_categories()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_get_categories.md)
  : Obtener listado de categorías

## Campañas

Creación y gestión de campañas

- [`flz_create_campaign_newsletter()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_create_campaign_newsletter.md)
  : Crear una nueva campaña de newsletter
- [`flz_send_test_campaign()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_send_test_campaign.md)
  : Enviar campaña de prueba
- [`flz_schedule_campaign()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_schedule_campaign.md)
  : Programar envío de campaña

## Usuarios

Gestión de usuarios

- [`flz_get_users()`](https://Jona-S99.github.io/fidelizadorapi/reference/flz_get_users.md)
  : Obtener todos los usuarios existentes

